`perf`命令行的参数可以`iperf -help`查看，我就不细说了，主要说一下常用的。

`iperf`分为`server`和`client`，支持TCP测速和UDP测速，个人建议局域网使用UDP测速会比较准确，对于丢包率和延迟都能反映的比较明显，而TCP由于重传机制，真实的带宽会不准。

服务端监听UDP命令： `iperf -s -u`

客户端使用UDP测试命令：`iperf -u -c 服务端IP -b 1000M -t 60 -i 10`

介绍一下参数：
```
-s server
-c client + server IP
-u udp
-b bandwidth，这个是用来表示使用多大带宽进行发包，根据真实环境进行调整
-t time，发包多长时间，单位是秒
-i interval，结果输出间隔时间，如果不加这个参数，那么就等到全部测试完成才给结果
```

效果及案例：
`iperf -u -c 10.0.0.22 -b 1000M -t 60 -i 10`

客户端1，千兆网卡，LAN，5类线，指定带宽1000M

可以看到发包的速度要高于收包，因为丢包率还是比较高的，线材太烂，应该更换超五类或六类